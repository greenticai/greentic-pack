PR-03 — Build consumes lockfile + writes component_sources extension (bundle=none scaffolding)

Goal: Make build aware of remote components even before bundling changes.

Scope

Build now:

runs update (already done)

runs resolve by default (or errors if lock missing; pick one)

reads pack.lock.json

writes the typed component_sources@v1 extension into manifest.cbor (from greentic-types)

Add --bundle flag but only wire bundle=none in this PR.

Semantics

--bundle=none:

do NOT include wasm files for remote components

components[].file_wasm must NOT be required

verification must tolerate missing wasm when extension says Remote

Deliverables

--bundle=none|cache flag added (default can remain whatever you prefer; I’d default to cache later, but for this PR default to current behavior)

Implementation writes component_sources extension for all components (remote marked Remote)

Tests:

build produces .gtpack with extension present

.gtpack contains no component wasm when --bundle=none

verify/doctor tolerate missing wasm in bundle=none mode

✅ End state: pack format supports remote references in a first-class way.