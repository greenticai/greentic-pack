PR-04 — Bundle policy fully implemented: --bundle=cache (embed wasm minimal)

Goal: Enable offline-friendly packs without directory copying.

Scope

Implement --bundle=cache:

For local sources: include wasm (from path) + manifest.cbor

For remote sources: fetch wasm into cache (dist-client), then embed wasm + manifest.cbor

Never copy whole component directories

Ensure extension entries mark Inline { wasm_path }

Deliverables

Deterministic staging layout:

components/<component_id>.wasm

components/<component_id>.manifest.cbor

Tests:

.gtpack contains wasm+manifest only, excludes junk files

cache mode works offline if artifacts already cached

✅ End state: bundle=cache is runtime-minimal and reproducible.